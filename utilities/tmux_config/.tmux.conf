# Prefix: backtick
unbind C-b
set -g prefix `
bind ` send-prefix

# Fix escape delay
set -s escape-time 10

# Bigger scrollback (agent logs)
set -g history-limit 50000

# Mouse support (scrolling, clicking panes, resizing)
set -g mouse on

# Windows/panes start at 1
set -g base-index 1
setw -g pane-base-index 1

# Renumber windows when one closes
set -g renumber-windows on

# Don't let programs rename windows
set -g allow-rename off

# Reload config
bind r source-file ~/.tmux.conf \; display "Reloaded"

# Splits (open in same directory)
bind = split-window -h -c "#{pane_current_path}"
bind - split-window -v -c "#{pane_current_path}"

# Close pane
bind w kill-pane

# Window list
bind Tab choose-tree -w

# Quick window switching
bind -n M-Left previous-window
bind -n M-Right next-window

# Synchronize input across all panes (toggle)
bind S setw synchronize-panes \; display "Sync #{?synchronize-panes,ON,OFF}"

# Allow passthrough so that unix_system_utilities/copy_via_osc52 can work with system clipboard
set -g allow-passthrough on
